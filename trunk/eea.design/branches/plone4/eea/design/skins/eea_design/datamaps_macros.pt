<html xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      i18n:domain="eea" tal:omit-tag="">

<div metal:define-macro="datasets"
     id="datasets-highlights"
     class="highlights"
     tal:define="datamaps_view datamaps_view|context/@@data_and_maps_logic;
                 folderContents datamaps_view/getLatestDatasets;
                 plone_view nocall:plone_view|context/@@plone;
                 hide_listing python: False;
                 hide_album python: True;"
     tal:condition="folderContents|nothing">
        <ul class="gallery-layout-selection">
            <li><a href="#" class="list-layout active-list"></a></li>
            <li><a href="#" class="album-layout"></a></li>
        </ul>
        <div metal:use-macro="here/datamaps_macros/macros/gallery-items" />
</div>

<div metal:define-macro="maps"
     class="highlights"
     id="maps-highlights"
     tal:define="datamaps_view datamaps_view|context/@@data_and_maps_logic;
                 folderContents datamaps_view/getLatestMaps;
                 hide_listing python: False;
                 hide_album python: True;"
     tal:condition="folderContents|nothing">
        <ul class="gallery-layout-selection">
            <li><a href="#" class="list-layout active-list"></a></li>
            <li><a href="#" class="album-layout"></a></li>
        </ul>
        <div metal:use-macro="here/datamaps_macros/macros/gallery-items" />
</div>

<div metal:define-macro="indicators"
     id="indicators-highlights"
     class="highlights"
     tal:define="datamaps_view datamaps_view|context/@@data_and_maps_logic;
                 folderContents datamaps_view/getLatestIndicators;
                 plone_view nocall:plone_view|context/@@plone;
                 hide_listing python: True;
                 hide_album python: False;"
     tal:condition="folderContents|nothing">
        <ul class="gallery-layout-selection">
            <li><a href="#" class="list-layout active-list"></a></li>
            <li><a href="#" class="album-layout"></a></li>
        </ul>
        <div metal:use-macro="here/datamaps_macros/macros/gallery-items" />
</div>




<div metal:define-macro="highArticles"
     id="articles-high"
     class="highlights"
     tal:define="frontpage_view datamaps_view|context/@@frontpage_highlights;
                 highlights highlights|frontpage_view/getHighArticles;
                 plone_view nocall:plone_view|context/@@plone;">
    <metal:items use-macro="here/frontpage_macros/macros/middlenews-long" />
</div>

<metal:spotlight metal:define-macro="spotlightItem"
                 tal:define="spotlight frontpage_view/getSpotlight;
                             plone_view nocall:plone_view|context/@@plone;"
                 tal:condition="spotlight">
    <div class="featured roundedCorners">
        <h2 class="column-title" i18n:domain="eea" i18n:translate="topic-in-spotlight">Topic in the spotlight</h2>

        <div id="spotlight-item"
            class="highlights">
            <div class="figure-left"><img alt="" tal:attributes="src string:${spotlight/url}/image_thumb; title spotlight/title; alt spotlight/title" /></div>
            <h3 class="highlight">
                <a href="#" class="noPrint"
                   tal:attributes="href spotlight/url"
                   tal:content="spotlight/title">
                       Spotlight Title</a></h3>
            <p tal:content="spotlight/description">description</p>

            <p><a href="#" class="moreLink"
                tal:attributes="href spotlight/url">Read more</a></p>

        </div>
    </div>

</metal:spotlight>




<div metal:define-macro="middle-short"
     class="highlights"
     id="highlights-middle"
     tal:define="highlights frontpage_view/getMedium;
                 plone_view nocall:plone_view|context/@@plone">

  <metal:items  define-macro="middlenews-short"
                tal:condition="highlights"
                tal:repeat="hl highlights">

     <div class="highlightMiddle shortNews">

             <h3 class="shortNewsTitle">
             <a href="#" class="noPrint"
                tal:attributes="href hl/getUrl"
                tal:content="hl/getNewsTitle">
                                Highlight Title</a></h3>

             <span class="date"
                  tal:define="date python:plone_view.toLocalizedTime(hl['effective'])"
                  tal:content="date">07 Dec 2005 </span>
             <br />
       </div>
    </metal:items>
</div>


<!-- featured article macro -->
<div metal:define-macro="middle-long"
     class="highlights"
     id="highlights-middle"
     tal:define="highlights frontpage_view/getMedium;
                 plone_view nocall:plone_view|context/@@plone">

  <metal:items  define-macro="middlenews-long"
                tal:condition="highlights"
                tal:repeat="hl highlights">

          <!-- teaser and read more -->
          <!--<metal:teasers use-macro="here/frontpage_macros/macros/teaser" />-->

            <div class="figure-left">
                      <tal:image define="figure hl/media|nothing;
                               figure_link hl/getUrl;
                               figure_scale string:mini;"
                             tal:condition="figure">
                        <tal:image tal:define="figure hl/media|nothing;
                        figure_link hl/getUrl;
                        figure_scale string:mini;
                        figure_title figure/Title|nothing;
                        "
                        tal:condition="figure">
                            <span tal:replace="structure figure/getScale"> </span>
                        </tal:image>
                 </tal:image>
            </div>

            <h3 class="highlight">
                <a href="#" class="noPrint"
                   tal:attributes="href hl/getUrl"
                   tal:content="hl/getNewsTitle">
                       Highlight Title</a></h3>

            <p tal:content="hl/getTeaser">teaser</p>
            <p><a href="#" class="moreLink"
                  tal:attributes="href hl/getUrl">Read more</a></p>
          <!-- end teaser and read more -->
    </metal:items>
</div>
<!-- end featured article macro -->

<div metal:define-macro="graphs"
     class="highlights"
     id="graphs-highlights"
     tal:define="datamaps_view datamaps_view|context/@@data_and_maps_logic;
                 folderContents datamaps_view/getLatestGraphs;
                 hide_album python: False;
                 hide_listing python: True;"
     tal:condition="folderContents|nothing">
        <ul class="gallery-layout-selection">
            <li><a href="#" class="list-layout"></a></li>
            <li><a href="#" class="album-layout active-album"></a></li>
        </ul>
        <div metal:use-macro="here/datamaps_macros/macros/gallery-items" />
</div>

<div metal:define-macro="interactivemaps"
     class="highlights"
     id="interactivemaps-highlights"
     tal:define="datamaps_view datamaps_view|context/@@data_and_maps_logic;
                 folderContents datamaps_view/getLatestInteractiveMaps;
                 hide_album python: False;
                 hide_listing python: True;"
     tal:condition="folderContents|nothing">
        <ul class="gallery-layout-selection">
            <li><a href="#" class="list-layout"></a></li>
            <li><a href="#" class="album-layout active-album"></a></li>
        </ul>
        <div metal:use-macro="here/datamaps_macros/macros/gallery-items" />
</div>


<div metal:define-macro="alldataproducts"
     class="highlights"
     id="alldataproducts-highlights" 
     tal:define="datamaps_view datamaps_view|context/@@data_and_maps_logic;
                 folderContents datamaps_view/getAllProducts;
                 hide_album python: False;
                 hide_listing python: True;"
     tal:condition="folderContents|nothing">
     <ul class="gallery-layout-selection">
            <li><a href="#" class="list-layout"></a></li>
            <li><a href="#" class="album-layout active-album"></a></li>
    </ul>
    <div metal:use-macro="here/datamaps_macros/macros/gallery-items" />
</div>

<metal:gallery-items define-macro="gallery-items"
                     tal:define="visible_album python: 'hiddenStructure' if hide_album else '';
                                 visible_listing python: 'hiddenStructure' if hide_listing else '';">
        <div class="gallery-ajax visualClear">
            <div tal:attributes="class string: gallery-listing ${visible_listing}">
                <div metal:use-macro="here/folder_summary_view/macros/listing"></div>
            </div>
            <tal:enabled tal:define="enabled python: True">
                <div tal:attributes="class string: gallery-album ${visible_album}">
                    <div metal:use-macro="here/atct_album_view/macros/listing-nobatch"></div>
                </div>
            </tal:enabled>
        </div>
</metal:gallery-items>


</html>
