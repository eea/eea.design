<metal:news define-macro='news-gallery'>
<tal:defines tal:define="frontpage_view context/@@frontpage_highlights;">

<metal:articles tal:condition="python: not request.get('AllLanguages')">

    <tal:news metal:define-macro="news"
              tal:define="language python:request.get('Language');
                                      folderContents python: frontpage_view.getNews() if not language else frontpage_view.getNews(language=language);
                    ajax python:True">
        <div metal:use-macro="here/frontpage_macros/macros/gallery-condition" />
    </tal:news>
</metal:articles>

<metal:languages tal:condition="python:request.get('AllLanguages')"
                 metal:define-macro='all-languages'>
    <div> </div>
    <tal:defines
            tal:define="languages python:frontpage_view.getResultsInAllLanguages('getNews')">
        <metal:results use-macro="here/articles_gallery_macro/macros/noresults" />
    </tal:defines>
</metal:languages>

</tal:defines>
</metal:news>
