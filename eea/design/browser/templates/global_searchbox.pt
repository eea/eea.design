<!-- THE SEARCHBOX DEFINITION -->
<div id="portal-searchbox" metal:define-macro="quick_search" tal:define="
  lang here/Language|string:en;
  action python:'http://search.apps.eea.europa.eu' if lang == 'en' else 'https://cse.google.com/cse';
  tags string:${context/portal_url}/eea-custom-search.tags"
  i18n:domain="eea">
  <style type="text/css">
    #portal-searchbox .autocomplete-items {
      position: absolute;
      border: 1px solid #d4d4d4;
      border-bottom: none;
      border-top: none;
      z-index: 9999;
      top: 100%;
      left: 0;
      right: 0;
   }
   #portal-searchbox .autocomplete-items div {
      padding: 10px;
      cursor: pointer;
      background-color: #fff;
      border-bottom: 1px solid #d4d4d4;
    }
    #portal-searchbox .autocomplete-items div:hover {
      background-color: #e9e9e9;
    }
    #portal-searchbox .autocomplete-active {
      background-color: DodgerBlue !important;
      color: #ffffff;
    }
    #portal-searchbox .gsc-input-box {
      position: relative;
    }
    #portal-header {
      overflow: inherit;
    }
  </style>
  <script tal:condition="python: lang == 'en'" tal:content="string:(function() {
          var gcse = document.createElement('script');
          gcse.type = 'text/javascript';
          gcse.async = true;
          gcse.src = '${context/portal_url}/eea-custom-search.js';
          var s = document.getElementsByTagName('script')[0];
          s.parentNode.insertBefore(gcse, s);
      })();">
  </script>
  <div class="gsc-control-cse gsc-control-cse-en gsc-control-wrapper-cse">
    <form method="get" id="gsc-form" class="gsc-search-box gsc-search-box-tools" tal:attributes="action action; data-tags-url tags" autocomplete="off">
      <table class="gsc-search-box" cellspacing="0" cellpadding="0">
        <tr>
          <td class="gsc-input">
            <div class="gsc-input-box">
              <input type="text" id="gsc-input-query" name="q" class="gsc-input" placeholder="Custom search" i18n:attributes="placeholder" />
              <input type="hidden" name="cx" value="010617083146134556574:ymkqzb7sibw" tal:condition="python:lang != 'en'"/>
            </div>
          </td>
          <td class="gsc-search-button">
            <button class="gsc-search-button gsc-search-button-v2">
              <span class="eea-icon eea-icon-search"></span>
            </button>
          </td>
          <td class="gsc-clear-button">
            <div class="gsc-clear-button"></div>
          </td>
        </tr>
      </table>
    </form>
  </div>
  <div class="eea-search-links">
    <a id="search_advanced_link" href="http://search.apps.eea.europa.eu" class="pull-left">
      <span i18n:translate="">Search the catalogue</span>
    </a>
    <a id="search_glossary_link"
      class="pull-right"
      href="/help/glossary" i18n:translate="">A-Z Glossary</a>
  </div>
</div>
